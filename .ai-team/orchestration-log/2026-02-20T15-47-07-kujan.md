# Orchestration Log: Kujan (SDK Expert)

**Date:** 2026-02-20T15:47:07Z  
**Agent:** Kujan  
**Mode:** Background  
**Model:** claude-sonnet-4.5  

## Assignment

SDK opportunity & gap analysis. Exhaustive review of Copilot SDK (protocol v2, technical preview). Evaluate what Squad gains, what it keeps, what it reinvents. Recommend phase architecture.

## Output

- **Decision Record:** `.ai-team/decisions/inbox/kujan-sdk-analysis.md`
- **Opportunity Analysis:** `.ai-team/docs/sdk-opportunity-analysis.md` (61KB)

## Decision Summary

**SDK Opportunity Analysis — 2-Phase Replatforming**

Recommend YES — replatform Squad on SDK in two phases:

**Phase 1 (v0.6.0, 3-5 weeks):** Hybrid architecture. SDK as infrastructure. Coordinator remains agent.md. Custom tools for SDK operations.

**Phase 2 (v0.7.0, 8-12 weeks):** Full integration. Coordinator becomes Node.js process using SDK client. Full programmatic control.

**What Squad Gains:**
- No more silent success bug (sendAndWait with timeout)
- No more context pressure (infinite sessions with auto-compaction)
- Crash recovery (resumeSession by ID)
- Real-time agent status (event streams)
- Multi-provider resilience (BYOK)
- MCP server orchestration (per-agent config)
- Checkpoint-driven undo (session.workspacePath)

**What Squad Keeps:** Casting system, filesystem memory, coordinator logic, decision governance, Scribe pattern.

**Status:** Approved. Recommends immediate Phase 1 design. Target v0.6.0 in 3-5 weeks.

## Outcome

Strategic architecture approved. Migration path validated.
